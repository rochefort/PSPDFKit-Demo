// Generated by CoffeeScript 1.6.3
(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};window.AWSlideshow=function(){function t(t,n){this.showSlideshowItemByNumber=e(this.showSlideshowItemByNumber,this);this.showSlideshowItemByIndicator=e(this.showSlideshowItemByIndicator,this);this.showPreviousSlideshowItem=e(this.showPreviousSlideshowItem,this);this.showNextSlideshowItem=e(this.showNextSlideshowItem,this);var r=this;this.slideshow=$(t);this.container=this.slideshow.find(".aw__slideshow__container");this.items=this.slideshow.find(".aw__slideshow__items");this.paginationContainer=this.container.find(".aw__slideshow__pagination-indicators");this.containerDimensions={width:this.container.width(),height:this.container.height()};this.state={currentItem:0,itemArray:[]};this.options={itemPadding:100,itemGroupSize:1,itemGroupPadding:100,fadeElement:"item"};$.extend(!0,this.options,n);this.slideshow.find(".aw__slideshow__look-right").on("click",this.showNextSlideshowItem);this.slideshow.find(".aw__slideshow__look-left").on("click",this.showPreviousSlideshowItem);this.paginationContainer.on("click",".aw__pagination__indicator",function(e){return r.showSlideshowItemByIndicator(e)});this.arrangeSlideshowItems()}t.prototype.arrangeSlideshowItems=function(){var e=this;this.items.children().each(function(t,n){$(n).css({position:"absolute",left:t*(e.containerDimensions.width+e.options.itemPadding)+"px",width:e.containerDimensions.width});e.state.itemArray.push($(n));return e.paginationContainer.append('<div class="aw__pagination__indicator" data-indicate-page="'+t+'"></div>')});this.adjustPaginationIndicators();return this.fadeSlideshowElements()};t.prototype.showNextSlideshowItem=function(e){if(this.state.currentItem<this.state.itemArray.length-1)return this.showSlideshowItemByNumber(this.state.currentItem+1)};t.prototype.showPreviousSlideshowItem=function(e){if(this.state.currentItem>0)return this.showSlideshowItemByNumber(this.state.currentItem-1)};t.prototype.showSlideshowItemByIndicator=function(e){return this.showSlideshowItemByNumber($(e.target).data("indicate-page"))};t.prototype.showSlideshowItemByNumber=function(e){if(e>=0&&e<this.state.itemArray.length){this.state.currentItem=e;this.items.css({left:(this.containerDimensions.width+this.options.itemPadding)*this.state.currentItem*-1+"px"});this.adjustPaginationIndicators();return this.fadeSlideshowElements()}};t.prototype.fadeSlideshowElements=function(){var e=this;if(this.options.fadeElement==="item"){$(this.state.itemArray).each(function(t,n){if(t!==e.state.currentItem)return $(n).css({opacity:0})});return $(this.state.itemArray[this.state.currentItem]).css({opacity:.9999})}$(this.state.itemArray).each(function(t,n){if(t!==e.state.currentItem)return $(n).find(e.options.fadeElement).css({opacity:0})});return $(this.state.itemArray[this.state.currentItem]).find(this.options.fadeElement).css({opacity:.9999})};t.prototype.adjustPaginationIndicators=function(){var e=this;return this.paginationContainer.find(".aw__pagination__indicator").each(function(t,n){return t===e.state.currentItem?$(n).addClass("aw__pagination__indicator_active"):$(n).removeClass("aw__pagination__indicator_active")})};return t}();$(window).load(function(){return window.CaseStudies=new AWSlideshow("section.case-studies",{fadeElement:".description"})})}).call(this);